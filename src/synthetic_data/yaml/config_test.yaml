# Test configuration with limited sources for pipeline testing

sources:
  - path: data
    type: directory
    include_patterns:
      - "*.ipynb"
      - "*.mdx"
      - "*.pdf"
      - "*.txt"
      - "*.json"
    exclude_patterns:
      - "**/node_modules/**"
      - "**/.git/**"
    max_files: 10

categories:
  - name: quantum_fundamentals
    description: Superposition, measurement, Born's rule, uncertainty, wave-particle duality, Bloch sphere, quantum postulates, Dirac notation
    weight: 3200

  - name: quantum_states_entanglement
    description: Bell states, EPR, entanglement measures, cluster states, teleportation, nonlocality, quantum correlations
    weight: 2800

  - name: quantum_gates_circuits
    description: Pauli gates, Hadamard, CNOT, controlled gates, rotations, multi-control, QASM, circuit depth, transpilation
    weight: 3300

  - name: quantum_algorithms
    description: QFT, Grover, Shor, phase estimation, Simon, amplitude estimation, VQE, QAOA, algorithm complexity
    weight: 3400

  - name: quantum_ml_optimization
    description: Quantum kernels, QNNs, quantum classifiers, GAN, hybrid pipelines, parameterized circuits, data encoding
    weight: 2300

  - name: quantum_simulation_hamiltonians
    description: Trotter-Suzuki, qDRIFT, Hamiltonian simulation, Heisenberg Ising models, Jordan-Wigner, time evolution
    weight: 2500

  - name: quantum_error_correction_noise
    description: Error correction codes, stabilizers, surface codes, Lindblad, decoherence, noise mitigation, benchmarking
    weight: 2200

  - name: quantum_information_communication
    description: Quantum cryptography, BB84, E91, superdense coding, channel capacity, quantum networks, secret sharing
    weight: 2000

  - name: variational_hybrid_approaches
    description: VQE, QAOA, SSVQE, VQSD, loss landscapes, optimizer choices, initialization strategies
    weight: 2500

  - name: quantum_thermodynamics
    description: Gibbs states, entropy, thermalization, adiabatic theorem, work extraction, open quantum systems
    weight: 1400

  - name: advanced_topological
    description: Topological qubits, anyons, Kitaev models, Yang-Baxter, topological states, braiding
    weight: 1000

  - name: frameworks_tooling
    description: Qiskit, PennyLane, OpenQASM, QuTiP, SDK differences, backend selection, transpiler, QASM generation
    weight: 3200

  - name: hardware_backends
    description: NISQ constraints, qubit connectivity, readout errors, calibration, noise models, simulators, resource estimation
    weight: 2000

  - name: education_meta
    description: Benchmarks, tutorials, best practices, reproducibility, educational exercises, introductory content
    weight: 1500

models:
  endpoints:
    - name: vision-model
      base_url: ${VISION_MODEL_BASE_URL}
      api_key: ${VISION_MODEL_API_KEY}
      model_name: ${VISION_MODEL_NAME}
      max_tokens: 4096
      temperature: 0.3

    - name: question-model
      base_url: ${QUESTION_MODEL_BASE_URL}
      api_key: ${QUESTION_MODEL_API_KEY}
      model_name: ${QUESTION_MODEL_NAME}
      max_tokens: 4096
      temperature: 0.3

    - name: answer-model
      base_url: ${ANSWER_MODEL_BASE_URL}
      api_key: ${ANSWER_MODEL_API_KEY}
      model_name: ${ANSWER_MODEL_NAME}
      max_tokens: 8192
      temperature: 0.2

prompts:
  question_generation: |
    Reasoning: medium
    Generate a clear, specific question from this content.

    Content:
    {context}

    {code_context}

    Question difficulty: {difficulty}

    Return ONLY the question text.

  answer_generation: |
    Question: {question}

    Context:
    {context}

    {code_context}

    Provide a comprehensive, accurate answer with code examples if relevant.

  summary_generation: |
    Reasoning: low
    Summarize this content concisely, focusing on key concepts.

    Content:
    {context}

    Return ONLY the summary text.

  caption_generation: |
    Context:
    {context}

    Image description: {image_description}

    Generate a question about what is shown in this image.

    Return ONLY the question text.

  code_generation: |
    Reasoning: medium
    Content:
    {context}

    {code_context}

    Create a practical Qiskit coding task based on these concepts.

    Difficulty: {difficulty}

    Return ONLY the question text.

  content_quality_check: |
    Reasoning: low
    This content can be used for educational purposes or to generate questions about topics such as quantum computing, physics, mathematics, or code. For example, someone reading or viewing this content could formulate a question, request code, a summary, or an explanation... (not bibliography, logos, or noise).

    {content}

    Answer ONLY 'yes' or 'no'.

  image_quality_check: |
    Reasoning: low
    Based on the image transcription, is this image educationally relevant for quantum computing training data?
    Consider if it shows quantum concepts, circuits, diagrams, or visualizations (not just decorative elements or logos).

    Image transcription: {transcription}

    {context}

    Answer ONLY 'yes' or 'no'.

  image_transcription: |
    Provide a detailed, objective and technical description of this image related to quantum computing, mathematics, or physics.
    If the image is not related to quantum computing, mathematics, or physics, describe in simple terms what it is.
    Focus on:
    - Key visual elements (circuits, gates, qubits, states, diagrams, formulas, graphs, etc.), how they interact
    - Mathematical notation or formulas if present
    - Any labels, legends, or annotations that help understand the image
    - Charts or graphs description if present

    The idea is that it should be possible to understand the image without looking at it.

  category_classification: |
    Reasoning: low
    Classify into ONE category:

    {categories}

    Content: {content}

    Return ONLY the category name.

generation:
  target_samples: 25

  question_model: question-model
  vision_model: vision-model
  answer_model: answer-model

  # Async batching settings (optimized from benchmarks)
  llm_batch_size: 5 # Smaller batch for testing
  llm_concurrency: 10 # Lower concurrency for testing
  vlm_batch_size: 8 # Smaller VLM batch
  vlm_concurrency: 8 # Lower VLM concurrency

  batch_size: 5
  multimodal_ratio: 0.5

  question_types:
    - qa
    - code
    - caption
    - summary

  question_type_weights:
    qa: 1.0
    code: 1.0
    caption: 1.0
    summary: 1.0

  difficulty_levels:
    - easy
    - medium
    - hard

  difficulty_weights:
    easy: 1.0
    medium: 1.0
    hard: 1.0

  max_context_length: 2048
  chunk_overlap: 200

  enable_image_transcription: true
  enable_content_filtering: true
  enable_deduplication: true
  similarity_threshold: 0.85

dataset:
  name: quantum-assistant-test
  description: |
    Test dataset for pipeline validation.

  parsed_dir: outputs/test/parsed
  generated_dir: outputs/test/generated
  final_dir: outputs/test/final
  images_dir: outputs/test/images

  train_split: 0.8
  val_split: 0.1
  test_split: 0.1

  license: apache-2.0

seed: 42
