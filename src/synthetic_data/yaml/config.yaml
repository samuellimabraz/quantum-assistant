sources:
  - path: /Users/samuel/Developer/avante/unifei/tcc/quantum-assistant/data
    type: directory
    include_patterns:
      - "*.ipynb"
      - "*.mdx"
      - "*.pdf"
      - "*.txt"
      - "*.json"
    exclude_patterns:
      - "**/node_modules/**"
      - "**/.git/**"
    max_files: 40

categories:
  - name: quantum_fundamentals
    description: Superposition, measurement, Born's rule, uncertainty, wave-particle duality, Bloch sphere, quantum postulates, Dirac notation

  - name: quantum_states_entanglement
    description: Bell states, EPR, entanglement measures, cluster states, teleportation, nonlocality, quantum correlations

  - name: quantum_gates_circuits
    description: Pauli gates, Hadamard, CNOT, controlled gates, rotations, multi-control, QASM, circuit depth, transpilation

  - name: quantum_algorithms
    description: QFT, Grover, Shor, phase estimation, Simon, amplitude estimation, VQE, QAOA, algorithm complexity

  - name: quantum_ml_optimization
    description: Quantum kernels, QNNs, quantum classifiers, GAN, hybrid pipelines, parameterized circuits, data encoding

  - name: quantum_simulation_hamiltonians
    description: Trotter-Suzuki, qDRIFT, Hamiltonian simulation, Heisenberg Ising models, Jordan-Wigner, time evolution

  - name: quantum_error_correction_noise
    description: Error correction codes, stabilizers, surface codes, Lindblad, decoherence, noise mitigation, benchmarking

  - name: quantum_information_communication
    description: Quantum cryptography, BB84, E91, superdense coding, channel capacity, quantum networks, secret sharing

  - name: variational_hybrid_approaches
    description: VQE, QAOA, SSVQE, VQSD, loss landscapes, optimizer choices, initialization strategies

  - name: quantum_thermodynamics
    description: Gibbs states, entropy, thermalization, adiabatic theorem, work extraction, open quantum systems

  - name: advanced_topological
    description: Topological qubits, anyons, Kitaev models, Yang-Baxter, topological states, braiding

  - name: frameworks_tooling
    description: Qiskit, PennyLane, OpenQASM, QuTiP, SDK differences, backend selection, transpiler, QASM generation

  - name: hardware_backends
    description: NISQ constraints, qubit connectivity, readout errors, calibration, noise models, simulators, resource estimation

  - name: education_meta
    description: Benchmarks, tutorials, best practices, reproducibility, educational exercises, introductory content

models:
  endpoints:
    - name: vision-model
      base_url: ${VISION_MODEL_BASE_URL}
      api_key: ${VISION_MODEL_API_KEY}
      model_name: ${VISION_MODEL_NAME}
      max_tokens: 8192
      temperature: 0.2

    - name: question-model
      base_url: ${QUESTION_MODEL_BASE_URL}
      api_key: ${QUESTION_MODEL_API_KEY}
      model_name: ${QUESTION_MODEL_NAME}
      max_tokens: 16384
      temperature: 0.5

    - name: answer-model
      base_url: ${ANSWER_MODEL_BASE_URL}
      api_key: ${ANSWER_MODEL_API_KEY}
      model_name: ${ANSWER_MODEL_NAME}
      max_tokens: 16384
      temperature: 0.3
      service_tier: "auto"

    - name: curate-model
      base_url: ${CURATE_MODEL_BASE_URL}
      api_key: ${CURATE_MODEL_API_KEY}
      model_name: ${CURATE_MODEL_NAME}
      max_tokens: 4096
      temperature: 0.2

prompts:
  # === SYSTEM PROMPTS ===

  question_generation_system: |
    Reasoning: high.
    You are an expert at creating high-quality training data for quantum computing AI models.
    Generate concise, direct questions/tasks based ONLY on the provided context.

    Critical requirements:
    - Questions must be self-contained with all necessary information
    - DO NOT reference "the provided code", "the context", "the image above"
    - DO NOT use polite phrases ("Please", "Could you", "Would you")
    - DO NOT use formatting markers ("**Task**", "*Hint:*")
    - Be direct and objective without unnecessary embellishment
    - Focus on what can be verified and tested
    - Base questions on actual content, not model knowledge

  answer_generation_system: |
    Reasoning: high.
    You are a Qiskit quantum computing expert providing reference solutions.
    Generate correct, executable code that passes the unit test.

    Code requirements:
    - Include ALL necessary imports at the beginning
    - Code must be complete, concise, and executable
    - NO comments in code
    - NO emojis or conversational text
    - Use only Qiskit framework
    - Follow the exact function signature if specified

    Answer requirements:
    - Give ONE direct solution without alternatives
    - DO NOT reference "the code above", "this example"
    - DO NOT add tips, hints, or extra commentary
    - DO NOT include URLs or links

  test_generation_system: |
    Reasoning: high.
    You are an expert at writing unit tests for Qiskit quantum computing code.
    Generate pytest-compatible tests that verify functional correctness.

    Requirements:
    - Use pytest with standard assertions
    - Include ALL necessary imports
    - Use Qiskit's comparison utilities:
      - Operator.equiv() for circuit/operator comparison
      - Statevector.equiv() for state comparison
      - numpy.allclose() for numerical comparisons
    - NO comments in test code
    - Tests must be deterministic and reproducible
    - For circuits with measurements, check counts distribution patterns
    - Test must verify the FUNCTION behavior, not implementation details

  # === QUESTION TYPE PROMPTS ===

  function_completion_prompt: |
    Based on the provided context, create a function completion task in Qiskit HumanEval format.

    Context:
    {context}

    Generate a task with:
    1. A function signature with type hints
    2. A docstring explaining what the function should do
    3. Necessary imports if critical

    Format your response as:
    ```python
    from qiskit import QuantumCircuit
    # other imports as needed

    def function_name(param1: Type1, param2: Type2) -> ReturnType:
        """
        Brief description of what the function should do.
        
        Args:
            param1: Description
            param2: Description
            
        Returns:
            Description of return value
        """
        pass
    ```

    Requirements:
    - Function must be testable (returns a value or modifiable object)
    - Task should be specific and well-defined
    - Based on actual patterns from the context
    - NO implementation, only signature and docstring

  code_generation_prompt: |
    Based on the provided context, create a code generation task (Qiskit HumanEval Hard format).

    Context:
    {context}

    Generate a direct, actionable task description that:
    - Requires complete code implementation
    - Is specific about what needs to be implemented
    - Can be 1-2 sentences maximum
    - Specifies the function name and arguments at the end

    Format: [Task description]. You must implement this using a function named `function_name` with the following arguments: arg1, arg2.

    Examples:
    - "Create a 3-qubit GHZ state circuit and return it. You must implement this using a function named `create_ghz` with no arguments."
    - "Return a phi+ Bell statevector. You must implement this using a function named `create_bell_statevector` with no arguments."
    - "Generate a QuantumCircuit with n qubits and apply Hadamard gates to all. You must implement this using a function named `create_superposition` with the following arguments: n_qubits."

    Return ONLY the task description.

  qa_prompt: |
    Based on the provided context, generate a question focused on quantum computing concepts, theory, or explanation.

    Context:
    {context}

    This is for QA (theory/concepts), NOT code generation. Focus on:
    - Conceptual understanding (superposition, entanglement, measurement)
    - Theoretical explanations (algorithms, protocols, principles)
    - Visual interpretation (if image: analyze circuits, diagrams, results)
    - Analysis (what happens when, why does, how does)

    For multimodal QA (with image):
    - Ask for interpretation, explanation, or analysis of visual content
    - Reference specific visual elements that need explanation
    - Make the image essential for answering

    Requirements:
    - Keep it direct and objective (1-2 sentences)
    - DO NOT ask for code implementation
    - Make it self-contained

    Return ONLY the question text.

  # === ANSWER GENERATION PROMPTS ===

  answer_with_test_prompt: |
    Generate a reference solution that passes the unit test.

    Task: {question}

    Unit Test (your code MUST pass this):
    ```python
    {test_code}
    ```

    Context:
    {context}

    Requirements:
    - Include ALL necessary imports
    - Implement the EXACT function signature expected by the test
    - Code must be complete and executable
    - NO comments in code
    - Return ONLY the Python code in a single code block

  answer_without_test_prompt: |
    Answer the following question about quantum computing.

    Question: {question}

    Context:
    {context}

    Requirements:
    - Be clear, accurate, and based on the provided context
    - If including code, ensure it is complete and executable
    - NO comments in code snippets
    - Be concise and direct

  # === QUALITY CONTROL PROMPTS ===

  content_filter_system: |
    Reasoning: high.
    You are a content quality filter for quantum computing training data.
    Determine if content can be used to generate educational questions about quantum computing, Qiskit, physics, mathematics, or code.

    Respond in this format:
    DECISION: yes/no
    REASON: Brief explanation (one sentence)

  content_quality_check: |
    Can this content be used to generate a training sample about quantum computing, circuits, physics, mathematics, or code?
    (Not bibliography, logos, noise, or random data without interpretability)

    {content}

    DECISION: yes/no
    REASON: Brief explanation

  image_filter_system: |
    Reasoning: high.
    You are an image quality filter for training data.
    Determine if an image is educationally relevant based on its transcription.
    Consider if it shows quantum concepts, circuits, diagrams, charts, graphs, formulas, or visualizations.

    Respond in this format:
    DECISION: yes/no
    REASON: Brief explanation (one sentence)

  image_quality_check: |
    Image transcription: {transcription}

    {context}

    DECISION: yes/no
    REASON: Brief explanation

  image_transcription_system: |
    You are an expert in quantum computing, physics, and mathematics.
    Provide a detailed, objective technical description of the image.

    For quantum circuits:
    - Identify each qubit line (q_0, q_1, etc.)
    - List each gate type, position, and target qubit(s)
    - Specify rotation angles for parameterized gates
    - Describe CNOT/controlled gates connections

    For charts/histograms:
    - Describe axis labels, units, and ranges
    - Identify key data points and values

    For diagrams/formulas:
    - Transcribe formulas using LaTeX notation
    - Describe structure and connections

  image_transcription: |
    Provide a detailed technical description of this image related to quantum computing, mathematics, or physics.

  # === CLASSIFICATION AND CURATION ===

  category_classification_system: |
    Reasoning: high.
    You are a content classifier. Classify content into ONE of the following categories:

    {categories}

    Return ONLY the category name.

  category_classification: |
    Content: {content}

  sample_curation_system: |
    Reasoning: high.
    You are a quality control expert for quantum computing training data.
    Evaluate if samples meet high standards for fine-tuning language models.

    CORRECTNESS CHECKS:
    1. Answer invents information not in quantum computing facts
    2. Answer uses non-Qiskit frameworks
    3. Answer is incomplete or truncated
    4. Answer doesn't address the question
    5. Context leakage (references "the provided code", "the image above")
    6. Factual errors in physics, math, or implementation


    MULTIMODAL CHECKS (if has image):
    11. Image is essential to the task, not decorative
    12. Task references specific visual elements
    13. Answer correctly interprets visual information

    FORMATTING:
    14. No excessive repetition
    15. No inappropriate language
    16. No URLs or links
    17. No pleasantries ("Happy coding!", etc.)

    Respond:
    DECISION: PASS/REJECT
    REASON: Brief explanation (one sentence, only if REJECT)

  sample_curation: |
    Type: {question_type}
    Multimodal: {has_image}
    Has Test: {has_test}

    Question: {question}

    Answer: {answer}

    Test Code: {test_code}

    DECISION: PASS/REJECT
    REASON: Brief explanation

generation:
  target_samples: 50

  question_model: question-model
  vision_model: vision-model
  answer_model: answer-model
  curate_model: curate-model
  filter_model: curate-model
  classify_model: curate-model

  llm_batch_size: 32
  llm_concurrency: 10
  vlm_batch_size: 32
  vlm_concurrency: 10

  multimodal_ratio: 0.5

  question_types:
    - function_completion
    - code_generation
    - qa

  question_type_weights:
    function_completion: 1.0
    code_generation: 1.0
    qa: 1.0

  max_context_length: 3200
  chunk_overlap: 0

  enable_image_transcription: true
  enable_content_filtering: true
  enable_curate_filtering: true
  enable_deduplication: true
  similarity_threshold: 0.85

  enable_code_verification: true
  code_verification_max_iterations: 3
  code_verification_timeout: 60
  code_verification_concurrency: 5

  test_validation_timeout: 60

dataset:
  name: quantum-multimodal
  description: |
    High-quality multimodal dataset for quantum computing with Qiskit.
    Three input types: function_completion, code_generation, qa.
    Code samples include unit tests for verification.
    Balanced distribution across 14 categories.

  parsed_dir: /Users/samuel/Developer/avante/unifei/tcc/quantum-assistant/outputs/parsed
  generated_dir: /Users/samuel/Developer/avante/unifei/tcc/quantum-assistant/outputs/generated
  final_dir: /Users/samuel/Developer/avante/unifei/tcc/quantum-assistant/outputs/final
  images_dir: /Users/samuel/Developer/avante/unifei/tcc/quantum-assistant/outputs/images

  train_split: 0.8
  val_split: 0.1
  test_split: 0.1

  license: apache-2.0

seed: 42
